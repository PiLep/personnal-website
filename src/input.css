@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --mouse-x: 50%;
    --mouse-y: 50%;
    --gradient-blue: #0ea5e9;
    --gradient-purple: #a855f7;
    --gradient-orange: #f97316;
    --animation-duration-slow: 45s;
    --animation-duration-medium: 18s;
    --animation-duration-fast: 1.2s;
    --easing-smooth: cubic-bezier(0.16, 1, 0.3, 1);
  }

  html {
    scroll-behavior: smooth;
    scroll-snap-type: y mandatory;
    overflow-y: scroll;
  }

  section {
    scroll-snap-align: start;
    scroll-snap-stop: always;
    contain: layout style paint;
  }
}

@layer components {
  .bg-animated-gradient {
    position: relative;
    background: linear-gradient(120deg, #fff 0%, #fbfdff 20%, #f7fbff 45%, #fff8fb 70%, #fff 100%);
    background-size: 400% 400%;
    animation: animatedgradient var(--animation-duration-slow) ease-in-out infinite alternate;
  }

  @media (hover: hover) and (pointer: fine) {
    .bg-animated-gradient {
      will-change: background-position;
    }
  }

  .dark .bg-animated-gradient {
    background: linear-gradient(120deg, #0a0a0a 0%, #0f0f14 20%, #12121a 45%, #14111a 70%, #0a0a0a 100%);
  }

  .bg-animated-gradient::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.06'/%3E%3C/svg%3E");
    background-size: 200px;
    -webkit-mask-image: radial-gradient(circle 350px at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.35) 60%, rgba(0, 0, 0, 0.35) 100%);
    mask-image: radial-gradient(circle 350px at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.35) 60%, rgba(0, 0, 0, 0.35) 100%);
    pointer-events: none;
    transition: mask-image 0.15s ease-out;
  }

  @media (hover: hover) and (pointer: fine) {
    .bg-animated-gradient::before {
      will-change: mask-image;
    }
  }

  /* Disable noise on low-end devices */
  @media (prefers-reduced-motion: reduce) {
    .bg-animated-gradient::before {
      display: none;
    }
  }

  .dark .bg-animated-gradient::before {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
  }

  .text-animated-gradient {
    color: var(--gradient-blue) !important;
    background-image: linear-gradient(90deg, var(--gradient-blue), var(--gradient-purple), var(--gradient-orange));
    background-size: 300% 100%;
    animation: animatedgradient var(--animation-duration-medium) ease-in-out infinite alternate;
    display: inline-block;
  }

  @media (hover: hover) and (pointer: fine) {
    .text-animated-gradient {
      will-change: background-position;
    }
  }

  /* Disable animations for reduced motion preference */
  @media (prefers-reduced-motion: reduce) {

    .text-animated-gradient,
    .bg-animated-gradient {
      animation: none;
    }
  }

  /* Desktop: Apply gradient text effect */
  @media (hover: hover) and (pointer: fine) {
    @supports (background-clip: text) or (-webkit-background-clip: text) {
      .text-animated-gradient {
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
    }
  }

  .elegant-entrance {
    animation: elegantEntrance var(--animation-duration-fast) var(--easing-smooth) forwards;
  }

  .elegant-entrance-delay-1,
  .elegant-entrance-delay-2 {
    opacity: 0;
    animation: elegantEntrance var(--animation-duration-fast) var(--easing-smooth) forwards;
  }

  .elegant-entrance-delay-1 {
    animation-delay: 0.15s;
  }

  .elegant-entrance-delay-2 {
    animation-delay: 0.3s;
  }

  /* Optimize will-change usage */
  .elegant-entrance,
  .elegant-entrance-delay-1,
  .elegant-entrance-delay-2 {
    animation-fill-mode: both;
  }

  @media (hover: hover) and (pointer: fine) {

    .elegant-entrance,
    .elegant-entrance-delay-1,
    .elegant-entrance-delay-2 {
      will-change: opacity, filter;
    }
  }

  @media (prefers-reduced-motion: reduce) {

    .elegant-entrance,
    .elegant-entrance-delay-1,
    .elegant-entrance-delay-2 {
      animation: none;
      opacity: 1;
      filter: none;
    }
  }

  /* Mobile: Use simpler animation without blur */
  @media (hover: none) or (pointer: coarse) {

    .elegant-entrance,
    .elegant-entrance-delay-1,
    .elegant-entrance-delay-2 {
      animation-name: elegantEntranceMobile;
    }
  }

  /* Social links with brightening effect */
  .social-link {
    opacity: 0.65;
    transition: opacity 0.3s, filter 0.3s;
  }

  @media (hover: hover) and (pointer: fine) {
    .social-link:hover {
      opacity: 1;
      filter: brightness(1.4);
    }

    .dark .social-link:hover {
      filter: brightness(1.6);
    }
  }

  /* Scroll indicator with brightening */
  .scroll-indicator {
    opacity: 0.35;
    transition: opacity 0.3s, filter 0.3s;
  }

  @media (hover: hover) and (pointer: fine) {
    .scroll-indicator:hover {
      opacity: 0.75;
      filter: brightness(1.3);
    }
  }

  /* Company links with brightening effect */
  .company-link {
    transition: filter 0.3s, transform 0.3s;
  }

  @media (hover: hover) and (pointer: fine) {
    .company-link:hover {
      filter: brightness(1.25);
    }
  }

  /* Dark mode toggle with brightening effect */
  @media (hover: hover) and (pointer: fine) {
    .dark-mode-toggle:hover {
      transform: scale(1.1);
      filter: brightness(1.15);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .dark .dark-mode-toggle:hover {
      box-shadow: 0 8px 30px rgba(255, 255, 255, 0.15);
      filter: brightness(1.25);
    }
  }

  /* Micro-interactions - Desktop only */
  @media (hover: hover) and (pointer: fine) {
    .hover-lift {
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .hover-lift:hover {
      transform: scale(1.15) rotate(5deg);
    }

    .text-animated-gradient-hover .text-animated-gradient {
      transition: animation-duration 0.3s ease;
    }

    .text-animated-gradient-hover:hover .text-animated-gradient {
      animation-duration: 3s;
    }

    .shimmer-link {
      transition: transform 0.2s, filter 0.3s;
    }

    .shimmer-link:hover {
      transform: translateY(-1px);
    }

    .text-link-bright:hover {
      filter: brightness(1.3);
    }
  }

  /* Minimalist badge with progressive underline */
  .badge-minimal {
    position: relative;
    display: inline-block;
    padding-bottom: 2px;
    font-size: 1.125rem;
    font-weight: 600;
    opacity: 0.75;
    transition: opacity 0.3s, transform 0.3s, filter 0.3s;
    cursor: pointer;
    contain: layout style;
  }

  .badge-minimal::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 30%;
    height: 2px;
    transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (hover: hover) {
    .badge-minimal::after {
      will-change: width;
    }
  }

  @media (hover: hover) {
    .badge-minimal:hover {
      opacity: 1;
      transform: scale(1.02);
      filter: brightness(1.15);
    }

    .badge-minimal:hover::after {
      width: 100%;
      filter: brightness(1.2);
    }
  }

  /* Badge color variants */
  .badge-blue::after {
    background: var(--gradient-blue);
  }

  .badge-purple::after {
    background: var(--gradient-purple);
  }

  .badge-orange::after {
    background: var(--gradient-orange);
  }

  /* Disable badge tooltips on mobile */
  @media (hover: none) or (pointer: coarse) {
    .badge-minimal::before {
      display: none;
    }
  }

  /* Tooltip */
  .badge-minimal::before {
    content: attr(data-tooltip);
    position: absolute;
    top: calc(100% + 12px);
    left: 50%;
    transform: translateX(-50%) translateY(4px);
    padding: 8px 14px;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    color: white;
    font-size: 0.875rem;
    font-weight: 400;
    border-radius: 8px;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease, transform 0.3s ease;
    z-index: 100;
  }

  .dark .badge-minimal::before {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(12px);
    color: white;
  }

  .badge-minimal:hover::before {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }

  /* Action links (Connect section) */
  .action-link {
    position: relative;
    display: inline-block;
    padding: 10px 20px;
    font-size: 1.125rem;
    font-weight: 600;
    opacity: 0.7;
    border-radius: 8px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    overflow: hidden;
  }

  .action-link::before,
  .action-link::after {
    content: '';
    position: absolute;
    transition: opacity 0.3s ease;
  }

  .action-link::before {
    inset: 0;
    opacity: 0;
    z-index: -1;
  }

  .action-link::after {
    left: 0;
    bottom: 0;
    width: 100%;
    height: 2px;
    opacity: 0.5;
  }

  .action-link:hover {
    opacity: 1;
    transform: translateY(-2px);
    color: white;
  }

  .action-link:hover::before {
    opacity: 1;
  }

  .action-link:hover::after {
    opacity: 0;
  }

  /* Action link color variants */
  .action-blue::before,
  .action-blue::after {
    background: var(--gradient-blue);
  }

  .action-purple::before,
  .action-purple::after {
    background: var(--gradient-purple);
  }

  .action-orange::before,
  .action-orange::after {
    background: var(--gradient-orange);
  }

  /* 3D Tilt Effect - Desktop only */
  @media (hover: hover) and (pointer: fine) {
    .perspective-container {
      perspective: 1000px;
      contain: layout style;
    }

    .tilt-card {
      transform-style: preserve-3d;
      transition: transform 0.1s ease-out;
      contain: layout style paint;
    }

    .tilt-card:hover {
      will-change: transform;
    }
  }

  /* Disable tilt on mobile and reduced motion */
  @media (hover: none) or (pointer: coarse),
  (prefers-reduced-motion: reduce) {
    .tilt-card {
      transform: none !important;
      will-change: auto;
    }
  }

}

@keyframes animatedgradient {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

@keyframes elegantEntrance {
  from {
    opacity: 0;
    filter: blur(8px);
  }

  to {
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes elegantEntranceMobile {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounce-slow {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(8px);
  }
}

@layer utilities {
  .animate-bounce-slow {
    animation: bounce-slow 2s ease-in-out infinite;
    will-change: transform;
  }

  /* Disable bounce on reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-bounce-slow {
      animation: none;
    }
  }
}
